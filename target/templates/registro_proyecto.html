<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar Proyecto - Synergy</title>
    <link rel="stylesheet" href="/synergy/src/main/resources/static/registro_proyecto.css">
</head>
<body>
    <section class="hero">
        <div class="overlay"></div>
        <div class="container">
            <div class="card">
                <!-- Logo -->
                     <img src="logo.png" alt="Logo Synergy" class="Logo">


                <!-- TÃ­tulo -->
                <h1>Registrar Proyecto</h1>
                <p class="subtitle">Completa la informaciÃ³n del nuevo proyecto</p>

                <!-- Mensaje de Ã©xito -->
                <div id="successMessage" class="success-message" th:if="${mensajeExito}">
                    <p th:text="${mensajeExito}"></p>
                </div>

                <!-- Formulario Thymeleaf -->
                <form th:action="@{/proyectos/guardar}" th:object="${proyecto}" method="post" enctype="multipart/form-data">

                    <div class="input-group">
                        <input type="text" th:field="*{nombre}" required>
                        <label>Nombre del Proyecto</label>
                    </div>

                    <div class="input-group">
                        <textarea th:field="*{descripcion}" required></textarea>
                        <label>DescripciÃ³n</label>
                    </div>

                    <div class="date-row">
                        <div class="input-group">
                            <input type="date" th:field="*{fechaInicio}" required>
                            <label>Fecha de Inicio</label>
                        </div>

                        <div class="input-group">
                            <input type="date" th:field="*{fechaFin}" required>
                            <label>Fecha de Fin</label>
                        </div>
                    </div>

                    <div class="input-group">
                        <input type="text" th:field="*{responsable}" required>
                        <label>Responsable</label>
                    </div>

                    <!-- Campo para subir imagen o PDF -->
                    <div class="file-group">
                        <label for="projectFile" class="file-label">
                            ðŸ“Ž Anexar documento (Imagen o PDF)
                        </label>
                        <input type="file" id="projectFile" name="archivo" 
                               accept="image/*,.pdf"
                               onchange="updateFileName(this)">
                        <span id="fileName" class="file-name">NingÃºn archivo seleccionado</span>
                    </div>

                    <button type="submit">Registrar Proyecto</button>
                    <button type="button" class="btn-secondary" onclick="toggleProjects()">
                        Ver Proyectos Registrados
                    </button>
                </form>

                <div id="projectsList" class="projects-list" style="display: none;">
                    <h3>Proyectos Disponibles para Consulta</h3>
                    <div id="projectsContainer">
                        <div th:each="p : ${proyectos}">
                            <p><strong th:text="${p.nombre}"></strong> - <span th:text="${p.responsable}"></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
</html>
