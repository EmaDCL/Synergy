<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mis Tareas â€“ Synergy</title>
  <link rel="stylesheet" href="/css/Usuarios_Dashboard.css">
</head>

<body>

<div class="hero">
  <div class="overlay"></div>

  <div class="container">
    <div class="card">

      <!-- ENCABEZADO -->
      <div class="header">
        <div class="top-buttons">

          <!-- Volver al dashboard -->
          <a th:href="@{/proyectos/dashboard}" class="btn-inicio">â¬… Volver</a>

          <!-- Logout -->
          <a th:href="@{/logout}" class="btn-usuarios">ğŸšª Cerrar sesiÃ³n</a>

        </div>

        <h1>Mis Tareas</h1>
        <p class="subtitle">AquÃ­ aparecen las tareas que te asignÃ³ tu lÃ­der de proyecto.</p>
      </div>

      <!-- LISTADO DE TAREAS -->
      <div class="menu-options" style="display:flex; flex-direction:column; gap:20px;">

        <!-- Si no hay tareas -->
        <p th:if="${tareas.size() == 0}" style="color:white; text-align:center;">
          No tienes tareas asignadas actualmente.
        </p>

        <!-- Cada tarea -->
        <div th:each="t : ${tareas}" class="menu-btn"
             style="
                display:flex;
                justify-content:space-between;
                align-items:center;
                padding:15px;
                border:1px solid rgba(255,255,255,0.3);
                border-radius:15px;
             ">

          <div style="display:flex; flex-direction:column;">
            <span style="font-size:18px; font-weight:bold;" th:text="${t.titulo}">TÃ­tulo</span>

            <span style="font-size:14px; opacity:0.8;" th:text="${t.descripcion}">
              DescripciÃ³n de la tarea
            </span>

            <span style="margin-top:5px; font-size:14px;">
              â³ Fecha lÃ­mite:
              <strong th:text="${t.fechaEntrega}"></strong>
            </span>

            <span style="margin-top:5px; font-size:14px;">
              ğŸ“Œ Estado:
              <strong th:text="${t.estado}"></strong>
            </span>
          </div>

          <!-- ğŸ“¤ BOTÃ“N PARA ENTREGAR LA TAREA -->
          <a th:href="@{/tareas/entregar/{id}(id=${t.id})}"
             class="btn-usuarios"
             style="padding:10px 15px; font-size:14px; background:#00aaff;">
              ğŸ“¤ Entregar tarea
          </a>

        </div>

      </div>

    </div>
  </div>

</div>

</body>
</html>

